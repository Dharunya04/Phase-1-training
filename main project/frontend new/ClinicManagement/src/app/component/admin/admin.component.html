<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">Admin Dashboard</a>
    <div class="collapse navbar-collapse">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item">
          <a class="nav-link" (click)="showForm('doctor')" [class.active]="activeForm === 'doctor'">Register Doctor</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" (click)="showForm('receptionist')" [class.active]="activeForm === 'receptionist'">Register Receptionist</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" (click)="showForm('viewDoctors')" [class.active]="activeForm === 'viewDoctors'">View Doctors</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" (click)="showForm('viewReceptionist')" [class.active]="activeForm === 'viewReceptionist'">View Receptionists</a>
        </li>
         <li class="nav-item">
  <a class="nav-link" [routerLink]="['/register']">Register admin</a>
</li>
         <li class="nav-item">
  <a class="nav-link" [routerLink]="['/login']">Logout</a>
</li>
      </ul>
    </div>
  </div>
</nav>

<div class="container">

  <div *ngIf="activeForm === 'admin'" class="text-center p-5 border rounded bg-light shadow-sm">
    <h2>Welcome, Admin</h2>
    <p>Select an option from the menu to manage Doctors or Receptionists.</p>
  </div>


  <div *ngIf="activeForm === 'doctor'">
    <h2>Register Doctor</h2>
    <form [formGroup]="doctorForm" (ngSubmit)="onSubmit()" class="p-3 border rounded bg-light shadow-sm">
      <div class="mb-3">
        <label class="form-label">Username</label>
        <input type="text" class="form-control" formControlName="userName">
      </div>
      <div class="mb-3">
        <label class="form-label">Password</label>
        <input type="password" class="form-control" formControlName="password">
      </div>
      <div class="mb-3">
        <label class="form-label">Doctor Name</label>
        <input type="text" class="form-control" formControlName="doctorName">
      </div>
      <div class="mb-3">
        <label class="form-label">Age</label>
        <input type="number" class="form-control" formControlName="age">
      </div>
      <div class="mb-3">
        <label class="form-label">Specialization</label>
        <input type="text" class="form-control" formControlName="specialization">
      </div>
      <div class="mb-3">
        <label class="form-label">Email</label>
        <input type="email" class="form-control" formControlName="email">
      </div>
      <div class="mb-3">
        <label class="form-label">Phone</label>
        <input type="text" class="form-control" formControlName="phoneNumber">
      </div>
      <div class="mb-3">
        <label class="form-label">Consultant Fee</label>
        <input type="number" class="form-control" formControlName="consultantFee">
      </div>
      <input type="hidden" formControlName="roleName" value="Doctor">
      <button type="submit" class="btn btn-primary w-100">Register Doctor</button>
    </form>
    <p class="mt-3 text-success">{{ message }}</p>
  </div>

  <!-- Receptionist Registration Form -->
  <div *ngIf="activeForm === 'receptionist'">
    <h2>Register Receptionist</h2>
    <form [formGroup]="receptionistForm" (ngSubmit)="onClick()" class="p-3 border rounded bg-light shadow-sm">
      <div class="mb-3">
        <label class="form-label">Username</label>
        <input type="text" class="form-control" formControlName="userName">
      </div>
      <div class="mb-3">
        <label class="form-label">Password</label>
        <input type="password" class="form-control" formControlName="password">
        <small class="text-danger" *ngIf="receptionistForm.get('password')?.hasError('minlength')">
          Password must be at least 6 characters.
        </small>
      </div>
      <div class="mb-3">
        <label class="form-label">Receptionist Name</label>
        <input type="text" class="form-control" formControlName="receptionistName">
      </div>
      <div class="mb-3">
        <label class="form-label">Email</label>
        <input type="email" class="form-control" formControlName="email">
      </div>
      <div class="mb-3">
        <label class="form-label">Phone</label>
        <input type="text" class="form-control" formControlName="phoneNumber">
      </div>
      <input type="hidden" formControlName="roleName" value="Reception">
      <button type="submit" class="btn btn-primary w-100">Register Receptionist</button>
    </form>
  </div>

  <!-- Doctor Table -->
  <div *ngIf="activeForm === 'viewDoctors'" class="table-container mt-4">
    <h2>Registered Doctors</h2>
    <table class="table table-bordered">
      <thead class="table-dark">
        <tr>
          <th>Name</th>
          <th>Specialization</th>
          <th>Age</th>
          <th>Email</th>
          <th>Phone</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let doc of doctors">
          <td>{{ doc.doctorName }}</td>
          <td>{{ doc.specialization }}</td>
          <td>{{ doc.age }}</td>
          <td>{{ doc.email }}</td>
          <td>{{ doc.phoneNumber }}</td>
          <td>
            <button class="btn btn-warning btn-sm me-2" (click)="editDoctor(doc)">Edit</button>
            <button class="btn btn-danger btn-sm" (click)="deleteDoctor(doc.doctorID)">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Edit Doctor Form -->
  <div *ngIf="activeForm === 'editDoctor'" class="container mt-4">
    <h2>Edit Doctor</h2>
    <form [formGroup]="editDoctorForm" (ngSubmit)="updateDoctor()" class="p-3 border rounded bg-light shadow-sm">
      <div class="mb-3">
        <label class="form-label">Name</label>
        <input type="text" class="form-control" formControlName="doctorName">
      </div>
      <div class="mb-3">
        <label class="form-label">Specialization</label>
        <input type="text" class="form-control" formControlName="specialization">
      </div>
      <div class="mb-3">
        <label class="form-label">Age</label>
        <input type="number" class="form-control" formControlName="age">
      </div>
      <div class="mb-3">
        <label class="form-label">Email</label>
        <input type="email" class="form-control" formControlName="email">
      </div>
      <div class="mb-3">
        <label class="form-label">Phone</label>
        <input type="text" class="form-control" formControlName="phoneNumber">
      </div>
      <div class="mb-3">
        <label class="form-label">Consultant Fee</label>
        <input type="number" class="form-control" formControlName="consultantFee">
      </div>
      <button type="submit" class="btn btn-success w-100">Update Doctor</button>
    </form>
  </div>

  <!-- Receptionist Table -->
  <div *ngIf="activeForm === 'viewReceptionist'" class="table-container mt-4">
    <h2>Registered Receptionists</h2>
    <table class="table table-bordered">
      <thead class="table-dark">
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Phone</th>
          <th>Email</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let rec of receptionist">
          <td>{{ rec.receptionistID }}</td>
          <td>{{ rec.receptionistName }}</td>
          <td>{{ rec.phoneNumber }}</td>
          <td>{{ rec.email }}</td>
          <td>
            <button class="btn btn-warning btn-sm me-2" (click)="editReceptionist(rec)">Edit</button>
            <button class="btn btn-danger btn-sm" (click)="deleteReceptionist(rec.receptionistID)">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- Edit Receptionist Form -->
  <div *ngIf="activeForm === 'editReceptionist'" class="container mt-4">
    <h2>Edit Receptionist</h2>
    <form [formGroup]="editReceptionistForm" (ngSubmit)="updateReceptionist()">
  <input type="hidden" formControlName="receptionistID">
  <input type="hidden" formControlName="roleName" value="Reception">

  <div class="mb-3">
    <label class="form-label">Username</label>
    <input type="text" class="form-control" formControlName="userName" placeholder="Enter username">
  </div>

  <div class="mb-3">
    <label class="form-label">Password</label>
    <input type="password" class="form-control" formControlName="password" placeholder="Enter password">
  </div>

  <div class="mb-3">
    <label class="form-label">Receptionist Name</label>
    <input type="text" class="form-control" formControlName="receptionistName">
  </div>

  <div class="mb-3">
    <label class="form-label">Email</label>
    <input type="email" class="form-control" formControlName="email">
  </div>

  <div class="mb-3">
    <label class="form-label">Phone Number</label>
    <input type="text" class="form-control" formControlName="phoneNumber">
  </div>

  <button type="submit" class="btn btn-success w-100">Update Receptionist</button>
</form>

  </div>
</div>
